const a8_0x4e9e7f=a8_0x16e7;(function(_0x4dfe58,_0x3f16d3){const _0x2446f1=a8_0x16e7,_0x16984d=_0x4dfe58();while(!![]){try{const _0xdb0bed=-parseInt(_0x2446f1(0xd1,'iZyM'))/0x1*(-parseInt(_0x2446f1(0xe1,'HM1s'))/0x2)+parseInt(_0x2446f1(0xd5,'^TL6'))/0x3*(-parseInt(_0x2446f1(0xd7,'rZX$'))/0x4)+-parseInt(_0x2446f1(0xda,'0xn9'))/0x5+-parseInt(_0x2446f1(0xe3,'Yo0u'))/0x6*(-parseInt(_0x2446f1(0xd2,'c5uw'))/0x7)+parseInt(_0x2446f1(0xdb,'PGuU'))/0x8*(parseInt(_0x2446f1(0xd6,'UI#i'))/0x9)+parseInt(_0x2446f1(0xd0,'MeRX'))/0xa+-parseInt(_0x2446f1(0xd8,'P%aZ'))/0xb;if(_0xdb0bed===_0x3f16d3)break;else _0x16984d['push'](_0x16984d['shift']());}catch(_0x4c398e){_0x16984d['push'](_0x16984d['shift']());}}}(a8_0x83c9,0x47df1));const a8_0x33d3a4=(function(){const _0x17db3a=a8_0x16e7,_0x281d5d={'qvdrn':_0x17db3a(0xdd,'[hp&')};let _0x379632=!![];return function(_0x46d044,_0x1769b7){const _0x59b93e=_0x17db3a,_0x14dfd8={'PoJQQ':_0x59b93e(0xe0,'jlLd')};if(_0x281d5d['qvdrn']!==_0x59b93e(0xce,'3Ugs')){const _0x422e93=_0x379632?function(){if(_0x1769b7){const _0x5a3ad9=_0x1769b7['apply'](_0x46d044,arguments);return _0x1769b7=null,_0x5a3ad9;}}:function(){};return _0x379632=![],_0x422e93;}else return _0x1c728c['toString']()['search'](_0x14dfd8['PoJQQ'])['toString']()['constructor'](_0x3463b4)['search']('(((.+)+)+)+$');};}()),a8_0x23dec0=a8_0x33d3a4(this,function(){const _0x4cc2c2=a8_0x16e7,_0x4831ee={'pMrAT':'(((.+)+)+)+$'};return a8_0x23dec0['toString']()[_0x4cc2c2(0xe2,'3Ugs')]('(((.+)+)+)+$')['toString']()['constructor'](a8_0x23dec0)['search'](_0x4831ee['pMrAT']);});a8_0x23dec0();function a8_0x16e7(_0x26084,_0x51209a){const _0x5eb156=a8_0x83c9();return a8_0x16e7=function(_0x23dec0,_0x33d3a4){_0x23dec0=_0x23dec0-0xce;let _0x83c968=_0x5eb156[_0x23dec0];if(a8_0x16e7['jddLmY']===undefined){var _0x16e7ea=function(_0x1957de){const _0x144f7d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x24ca60='',_0x365cdb='',_0xe7717=_0x24ca60+_0x16e7ea;for(let _0x372b2c=0x0,_0x41bead,_0x4f9941,_0x1937b8=0x0;_0x4f9941=_0x1957de['charAt'](_0x1937b8++);~_0x4f9941&&(_0x41bead=_0x372b2c%0x4?_0x41bead*0x40+_0x4f9941:_0x4f9941,_0x372b2c++%0x4)?_0x24ca60+=_0xe7717['charCodeAt'](_0x1937b8+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x41bead>>(-0x2*_0x372b2c&0x6)):_0x372b2c:0x0){_0x4f9941=_0x144f7d['indexOf'](_0x4f9941);}for(let _0x10b9b3=0x0,_0x12afc=_0x24ca60['length'];_0x10b9b3<_0x12afc;_0x10b9b3++){_0x365cdb+='%'+('00'+_0x24ca60['charCodeAt'](_0x10b9b3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x365cdb);};const _0x1b2055=function(_0x37040f,_0x25c766){let _0x5d9ceb=[],_0x50b506=0x0,_0x17fb9a,_0x17cb09='';_0x37040f=_0x16e7ea(_0x37040f);let _0x228eea;for(_0x228eea=0x0;_0x228eea<0x100;_0x228eea++){_0x5d9ceb[_0x228eea]=_0x228eea;}for(_0x228eea=0x0;_0x228eea<0x100;_0x228eea++){_0x50b506=(_0x50b506+_0x5d9ceb[_0x228eea]+_0x25c766['charCodeAt'](_0x228eea%_0x25c766['length']))%0x100,_0x17fb9a=_0x5d9ceb[_0x228eea],_0x5d9ceb[_0x228eea]=_0x5d9ceb[_0x50b506],_0x5d9ceb[_0x50b506]=_0x17fb9a;}_0x228eea=0x0,_0x50b506=0x0;for(let _0xab299=0x0;_0xab299<_0x37040f['length'];_0xab299++){_0x228eea=(_0x228eea+0x1)%0x100,_0x50b506=(_0x50b506+_0x5d9ceb[_0x228eea])%0x100,_0x17fb9a=_0x5d9ceb[_0x228eea],_0x5d9ceb[_0x228eea]=_0x5d9ceb[_0x50b506],_0x5d9ceb[_0x50b506]=_0x17fb9a,_0x17cb09+=String['fromCharCode'](_0x37040f['charCodeAt'](_0xab299)^_0x5d9ceb[(_0x5d9ceb[_0x228eea]+_0x5d9ceb[_0x50b506])%0x100]);}return _0x17cb09;};a8_0x16e7['Wsolim']=_0x1b2055,_0x26084=arguments,a8_0x16e7['jddLmY']=!![];}const _0x159062=_0x5eb156[0x0],_0x774b17=_0x23dec0+_0x159062,_0x3a66bc=_0x26084[_0x774b17];if(!_0x3a66bc){if(a8_0x16e7['fGuPuP']===undefined){const _0x598411=function(_0xaa368d){this['XRUIkW']=_0xaa368d,this['tcEQuA']=[0x1,0x0,0x0],this['pjGgtA']=function(){return'newState';},this['SItZwq']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['VdVRjz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x598411['prototype']['THWFtm']=function(){const _0x1b74ef=new RegExp(this['SItZwq']+this['VdVRjz']),_0x42a706=_0x1b74ef['test'](this['pjGgtA']['toString']())?--this['tcEQuA'][0x1]:--this['tcEQuA'][0x0];return this['xMWxbL'](_0x42a706);},_0x598411['prototype']['xMWxbL']=function(_0x2d39ff){if(!Boolean(~_0x2d39ff))return _0x2d39ff;return this['eEaFrH'](this['XRUIkW']);},_0x598411['prototype']['eEaFrH']=function(_0x5d5b48){for(let _0x1c3120=0x0,_0x55350e=this['tcEQuA']['length'];_0x1c3120<_0x55350e;_0x1c3120++){this['tcEQuA']['push'](Math['round'](Math['random']())),_0x55350e=this['tcEQuA']['length'];}return _0x5d5b48(this['tcEQuA'][0x0]);},new _0x598411(a8_0x16e7)['THWFtm'](),a8_0x16e7['fGuPuP']=!![];}_0x83c968=a8_0x16e7['Wsolim'](_0x83c968,_0x33d3a4),_0x26084[_0x774b17]=_0x83c968;}else _0x83c968=_0x3a66bc;return _0x83c968;},a8_0x16e7(_0x26084,_0x51209a);}import a8_0x343c0f from'sqlite3';import{open}from'sqlite';function a8_0x83c9(){const _0xf85a15=['W6hcQSkQWQxdU8oMpa','W4RcVSoAlsxdHmkAu1BdGCo3WQ13rJtcPCkw','obyXoCog','W7NdV8oE','hCoVtCoqW7ZcGq9vAmoGnu7cJW','W6Gzi8o1WOChimkTW7hcHSk9WRa','z8klkNeFW5fdWQVcNttcICkb','kSkuoJTadW','W7FdHwHcWPf7WPiJiCoE','p8kNhaD0','W5ddTCkZfSk2W4lcNmoMWRC7eW','W54hW5FdVmoSz8kBeSkfW6H/xaG','h38aw2tdRXO','WRiNW6hdMmozkCkxh18lga','WR3cUSkhW7VcOw3cJx9HdmonW4q','e8oZW69yW4G','WOjwW6FdVcFcHeeElCo7fKu','W4vTW6ldPbtdHxtcUCkrtXvwW4m','fbpcT8o+FuNcTa','W6xdSSoyWPbKWPRdLJD5jCkgW6RdNq','gCoXW7noW580WRHOwmkbW6KsWQuGW7b7aSk4','WRFcMmkVWOldHw/cRHxcGCkuyZ/dPG'];a8_0x83c9=function(){return _0xf85a15;};return a8_0x83c9();}class SQLITE{async['connectToDatabase'](){return open({'filename':'./database.db','driver':a8_0x343c0f['Database']});}async['createTable'](){const _0x192f27=await this['connectToDatabase']();await _0x192f27['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20tx_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20tx_date\x20DATE\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20type\x20TEXT\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x192f27['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20approve_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20spender\x20TEXT\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x192f27['close']();}async['insertData'](_0x245a9d,_0xf1ea34,_0x41a48a){const _0x52d69b=a8_0x16e7,_0x5a442={'eTNHb':'INSERT\x20INTO\x20tx_log\x20(address,\x20tx_date,\x20type)\x20VALUES\x20(?,\x20?,\x20?)'},_0x464ac6=await this['connectToDatabase']();await _0x464ac6[_0x52d69b(0xde,'2a9D')](_0x5a442['eTNHb'],[_0x245a9d,_0xf1ea34,_0x41a48a]),await _0x464ac6['close']();}async[a8_0x4e9e7f(0xd9,'#bY8')](_0x377008,_0x19f023){const _0x183845=a8_0x4e9e7f,_0x3c5724=await this[_0x183845(0xdc,'^EG!')]();await _0x3c5724['run']('INSERT\x20INTO\x20approve_log\x20(address,\x20spender)\x20VALUES\x20(?,\x20?)',[_0x377008,_0x19f023]),await _0x3c5724[_0x183845(0xd4,'#bY8')]();}async['getTodayTxLog'](_0xd7422a,_0x1832e9){const _0x39b27e=await this['connectToDatabase'](),_0x2ef675=new Date()['toISOString']()['split']('T')[0x0],_0x3cc2b9=await _0x39b27e['all']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20tx_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20DATE(tx_date)\x20=\x20?\x20AND\x20address\x20=\x20?\x20AND\x20type\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20tx_date\x20DESC\x0a\x20\x20\x20\x20',[_0x2ef675,_0xd7422a,_0x1832e9]);return await _0x39b27e['close'](),_0x3cc2b9;}async['isSpenderExists'](_0xee1b11,_0x57f9e3){const _0x3a107a={'dIjaS':function(_0x4f13b6,_0x4f7843){return _0x4f13b6>_0x4f7843;}},_0x42cb1c=await this['connectToDatabase'](),_0xec6d25=await _0x42cb1c['all']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20approve_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20address\x20=\x20?\x20AND\x20spender\x20=\x20?\x0a\x20\x20\x20\x20',[_0xee1b11,_0x57f9e3]);return await _0x42cb1c['close'](),_0x3a107a['dIjaS'](_0xec6d25['length'],0x0);}}const sqlite=new SQLITE();await sqlite['createTable']();export default sqlite;