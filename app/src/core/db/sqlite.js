const a8_0x83783e=a8_0x4290;(function(_0x3cb492,_0x35f445){const _0x17b20b=a8_0x4290,_0x4cf09a=_0x3cb492();while(!![]){try{const _0x29041d=-parseInt(_0x17b20b(0x9f,'%VV1'))/0x1+-parseInt(_0x17b20b(0xaf,'mk92'))/0x2+parseInt(_0x17b20b(0xab,'g]7%'))/0x3+parseInt(_0x17b20b(0xa5,'ETqz'))/0x4*(parseInt(_0x17b20b(0xa9,'UFfl'))/0x5)+-parseInt(_0x17b20b(0xa0,'2t6B'))/0x6*(parseInt(_0x17b20b(0xac,'yw(!'))/0x7)+parseInt(_0x17b20b(0xb1,'I(tU'))/0x8*(-parseInt(_0x17b20b(0xa1,'n4Jk'))/0x9)+parseInt(_0x17b20b(0xad,'RA8y'))/0xa;if(_0x29041d===_0x35f445)break;else _0x4cf09a['push'](_0x4cf09a['shift']());}catch(_0x11aaab){_0x4cf09a['push'](_0x4cf09a['shift']());}}}(a8_0x3527,0x391ea));const a8_0x5eb7f6=(function(){let _0x487fa3=!![];return function(_0x588d12,_0x334227){const _0x14bdb7=_0x487fa3?function(){const _0x44cad4=a8_0x4290;if('HdBzT'!=='HdBzT'){const _0x6cd2=_0x347596?function(){if(_0x572df8){const _0x23cf57=_0xb19674['apply'](_0x1408f5,arguments);return _0x58161a=null,_0x23cf57;}}:function(){};return _0x58142e=![],_0x6cd2;}else{if(_0x334227){const _0x3e0cea=_0x334227[_0x44cad4(0xa6,'ETqz')](_0x588d12,arguments);return _0x334227=null,_0x3e0cea;}}}:function(){};return _0x487fa3=![],_0x14bdb7;};}()),a8_0x483739=a8_0x5eb7f6(this,function(){return a8_0x483739['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a8_0x483739)['search']('(((.+)+)+)+$');});a8_0x483739();import a8_0x2286b5 from'sqlite3';import{open}from'sqlite';class SQLITE{async['connectToDatabase'](){const _0x4aafa3=a8_0x4290,_0xf83d19={'blPfs':function(_0x5c341e,_0xa68e9e){return _0x5c341e(_0xa68e9e);}};return _0xf83d19['blPfs'](open,{'filename':_0x4aafa3(0xb2,'T1Ar'),'driver':a8_0x2286b5['Database']});}async['createTable'](){const _0x49402a=a8_0x4290,_0x2508a7=await this['connectToDatabase']();await _0x2508a7[_0x49402a(0xa3,'&Bp]')]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20tx_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20tx_date\x20DATE\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20type\x20TEXT\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x2508a7['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20approve_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20spender\x20TEXT\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x2508a7[_0x49402a(0xa8,'Q!6r')]();}async['insertData'](_0x671de6,_0x381afa,_0x362969){const _0x1752c6=a8_0x4290,_0x4a4ec0=await this[_0x1752c6(0xaa,'T1Ar')]();await _0x4a4ec0['run']('INSERT\x20INTO\x20tx_log\x20(address,\x20tx_date,\x20type)\x20VALUES\x20(?,\x20?,\x20?)',[_0x671de6,_0x381afa,_0x362969]),await _0x4a4ec0[_0x1752c6(0xa2,'8yOZ')]();}async[a8_0x83783e(0xa4,'I(tU')](_0x2a8088,_0xf1cdec){const _0x43dd47=a8_0x83783e,_0x5ce0b9=await this[_0x43dd47(0x9e,'UFfl')]();await _0x5ce0b9['run']('INSERT\x20INTO\x20approve_log\x20(address,\x20spender)\x20VALUES\x20(?,\x20?)',[_0x2a8088,_0xf1cdec]),await _0x5ce0b9['close']();}async['getTodayTxLog'](_0x370ec3,_0x5365d1){const _0x187824=a8_0x83783e,_0x547792=await this[_0x187824(0xb3,'MvhG')](),_0x23397e=new Date()[_0x187824(0xae,'Q!6r')]()['split']('T')[0x0],_0x573e76=await _0x547792[_0x187824(0xa7,'%4$P')]('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20tx_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20DATE(tx_date)\x20=\x20?\x20AND\x20address\x20=\x20?\x20AND\x20type\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20tx_date\x20DESC\x0a\x20\x20\x20\x20',[_0x23397e,_0x370ec3,_0x5365d1]);return await _0x547792[_0x187824(0xb0,'4Q$6')](),_0x573e76;}async['isSpenderExists'](_0x3f1544,_0x4b7b1e){const _0x3aa6e9=await this['connectToDatabase'](),_0x29e545=await _0x3aa6e9['all']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20approve_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20address\x20=\x20?\x20AND\x20spender\x20=\x20?\x0a\x20\x20\x20\x20',[_0x3f1544,_0x4b7b1e]);return await _0x3aa6e9['close'](),_0x29e545['length']>0x0;}}const sqlite=new SQLITE();await sqlite['createTable']();function a8_0x4290(_0x14f28b,_0x481b3b){const _0x5dd4b6=a8_0x3527();return a8_0x4290=function(_0x483739,_0x5eb7f6){_0x483739=_0x483739-0x9e;let _0x3527e5=_0x5dd4b6[_0x483739];if(a8_0x4290['fUtClb']===undefined){var _0x4290d4=function(_0x13cc0d){const _0x8106e7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xdbaeaf='',_0x279f8b='',_0x5d2d57=_0xdbaeaf+_0x4290d4;for(let _0x237c3e=0x0,_0x6dbc71,_0x3a74da,_0x347596=0x0;_0x3a74da=_0x13cc0d['charAt'](_0x347596++);~_0x3a74da&&(_0x6dbc71=_0x237c3e%0x4?_0x6dbc71*0x40+_0x3a74da:_0x3a74da,_0x237c3e++%0x4)?_0xdbaeaf+=_0x5d2d57['charCodeAt'](_0x347596+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x6dbc71>>(-0x2*_0x237c3e&0x6)):_0x237c3e:0x0){_0x3a74da=_0x8106e7['indexOf'](_0x3a74da);}for(let _0x18fd53=0x0,_0x38efe6=_0xdbaeaf['length'];_0x18fd53<_0x38efe6;_0x18fd53++){_0x279f8b+='%'+('00'+_0xdbaeaf['charCodeAt'](_0x18fd53)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x279f8b);};const _0x2a1a2a=function(_0x45cd0a,_0x118424){let _0x58142e=[],_0x572df8=0x0,_0x3ba008,_0x31535e='';_0x45cd0a=_0x4290d4(_0x45cd0a);let _0x392250;for(_0x392250=0x0;_0x392250<0x100;_0x392250++){_0x58142e[_0x392250]=_0x392250;}for(_0x392250=0x0;_0x392250<0x100;_0x392250++){_0x572df8=(_0x572df8+_0x58142e[_0x392250]+_0x118424['charCodeAt'](_0x392250%_0x118424['length']))%0x100,_0x3ba008=_0x58142e[_0x392250],_0x58142e[_0x392250]=_0x58142e[_0x572df8],_0x58142e[_0x572df8]=_0x3ba008;}_0x392250=0x0,_0x572df8=0x0;for(let _0xb19674=0x0;_0xb19674<_0x45cd0a['length'];_0xb19674++){_0x392250=(_0x392250+0x1)%0x100,_0x572df8=(_0x572df8+_0x58142e[_0x392250])%0x100,_0x3ba008=_0x58142e[_0x392250],_0x58142e[_0x392250]=_0x58142e[_0x572df8],_0x58142e[_0x572df8]=_0x3ba008,_0x31535e+=String['fromCharCode'](_0x45cd0a['charCodeAt'](_0xb19674)^_0x58142e[(_0x58142e[_0x392250]+_0x58142e[_0x572df8])%0x100]);}return _0x31535e;};a8_0x4290['KSvlEk']=_0x2a1a2a,_0x14f28b=arguments,a8_0x4290['fUtClb']=!![];}const _0x5cf966=_0x5dd4b6[0x0],_0x20653c=_0x483739+_0x5cf966,_0x4f9ac9=_0x14f28b[_0x20653c];if(!_0x4f9ac9){if(a8_0x4290['ZgwzsK']===undefined){const _0x1408f5=function(_0x58161a){this['ZsowAO']=_0x58161a,this['mdMQig']=[0x1,0x0,0x0],this['KmBliI']=function(){return'newState';},this['TLYEaP']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['gmJCIA']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1408f5['prototype']['KftmzZ']=function(){const _0x2b339f=new RegExp(this['TLYEaP']+this['gmJCIA']),_0x5d0cca=_0x2b339f['test'](this['KmBliI']['toString']())?--this['mdMQig'][0x1]:--this['mdMQig'][0x0];return this['QlveFZ'](_0x5d0cca);},_0x1408f5['prototype']['QlveFZ']=function(_0x436223){if(!Boolean(~_0x436223))return _0x436223;return this['DJkycp'](this['ZsowAO']);},_0x1408f5['prototype']['DJkycp']=function(_0x21413e){for(let _0x4bb5c1=0x0,_0x4a7c39=this['mdMQig']['length'];_0x4bb5c1<_0x4a7c39;_0x4bb5c1++){this['mdMQig']['push'](Math['round'](Math['random']())),_0x4a7c39=this['mdMQig']['length'];}return _0x21413e(this['mdMQig'][0x0]);},new _0x1408f5(a8_0x4290)['KftmzZ'](),a8_0x4290['ZgwzsK']=!![];}_0x3527e5=a8_0x4290['KSvlEk'](_0x3527e5,_0x5eb7f6),_0x14f28b[_0x20653c]=_0x3527e5;}else _0x3527e5=_0x4f9ac9;return _0x3527e5;},a8_0x4290(_0x14f28b,_0x481b3b);}export default sqlite;function a8_0x3527(){const _0x1b0737=['W7RdJb3cNSk+hsBdN8kIe8ojWP/dQSkDW7CeW7i','WQOIW6BdRsVcPSoVeNhdRXxcIa','W5m+jmo2EhD0fW','mmolgSkBeCo8WOi','omk+tSoBW44','WRNcUNVdLW','W77dN8kYWQLnWPKvWPbMWRKWW4ddPmonWRJcSCkMjW','WRZdGSkBESkvBCold34','W67cISoByCkc','s37dKW','mwRcHCoCW54','WQRcKuxdHCkSfXhdPSkhgq','wCk8gmoOENLLW4mXemo4W7xdPSkmW6NcVt8','FHmdWQddNmkDW5BcHSojW7xcQse','BbJcMmoxaq7dLmo2uSk3WRhdMW','W6WIWOL7WQq6W6NdJs9cWOpcQSox','jMNcO8o8W7tcOSohkrX7AW','WQddTSoBW4hcO8oknYtdT8o9W7i','WPKLvCkHDq','WQBcImo1W74iW5rMWQDoWRGhW7ddSq','fmo8eSoNA3TZW7yTmCk3W6xdPq','nmoviSo6W6HcEmo7WPj6WQZdRSkQW7JdHCobwW'];a8_0x3527=function(){return _0x1b0737;};return a8_0x3527();}